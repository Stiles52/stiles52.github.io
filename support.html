<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://unpkg.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; img-src 'self' data: https:; frame-src https://www.youtube-nocookie.com; connect-src 'self' https://discord.com https://corsproxy.io;">
    <title>SUPPORT & RÈGLEMENT - ORIGIN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: black;
            color: white;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #0e7490; border-radius: 4px; }

        .glass-panel {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(34, 211, 238, 0.2);
            box-shadow: 0 0 30px rgba(34, 211, 238, 0.05);
            transition: all 0.3s ease;
        }

        .active-tab-btn {
            background-color: rgba(34, 211, 238, 0.1);
            border-color: #22d3ee;
            color: #22d3ee;
        }

        .scanline {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.3) 51%);
            background-size: 100% 4px; pointer-events: none; z-index: 40; opacity: 0.3;
        }
        
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        body {
            transition: opacity 0.5s ease-in-out;
        }
        body.fade-out {
            opacity: 0;
        }
    </style>
</head>
<body class="bg-black min-h-screen flex flex-col pb-24 md:pb-0">

    <audio id="sfx-hover" src="assets/audio/hover.mp3" preload="auto"></audio>
    <audio id="sfx-click" src="assets/audio/click.mp3" preload="auto"></audio>

    <div class="scanline"></div>

    <nav class="fixed top-0 left-0 w-full p-4 md:p-8 z-50 flex justify-center md:justify-end items-center backdrop-blur-sm bg-black/20 border-b border-cyan-900/30">
        <ul class="flex gap-4 md:gap-8">
            <li><a href="index.html" class="text-[10px] md:text-xs tracking-[0.2em] uppercase text-gray-400 hover:text-white transition-colors">Accueil</a></li>
            <li><a href="lore.html" class="text-[10px] md:text-xs tracking-[0.2em] uppercase text-gray-400 hover:text-white transition-colors">Lore</a></li>
            <li><a href="join.html" class="text-[10px] md:text-xs tracking-[0.2em] uppercase text-gray-400 hover:text-white transition-colors">Nous Rejoindre</a></li>
            <li>
                <a href="support.html" class="text-[10px] md:text-xs tracking-[0.2em] uppercase text-cyan-400 font-bold flex items-center gap-2">
                    Support
                    <div class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></div>
                </a>
            </li>
        </ul>
    </nav>

    <header class="pt-32 pb-8 px-6 text-center relative z-10">
        <h1 class="text-3xl md:text-5xl font-bold text-white tracking-tighter mb-4">CENTRE <span class="text-cyan-400">ADMINISTRATIF</span></h1>
        <p class="text-gray-400 text-xs md:text-sm uppercase tracking-widest">Règlementation & Assistance</p>
    </header>

    <div class="max-w-4xl mx-auto px-6 mb-12 relative z-10">
        <div class="grid grid-cols-2 gap-4">
            <button onclick="switchTab('rules')" id="btn-rules" class="active-tab-btn glass-panel p-4 text-center uppercase tracking-widest text-xs font-bold hover:bg-cyan-900/20 transition-all">
                <i data-lucide="book" class="w-6 h-6 mx-auto mb-2"></i>
                Règlement
            </button>
            <button onclick="switchTab('support')" id="btn-support" class="glass-panel p-4 text-center uppercase tracking-widest text-xs font-bold text-gray-500 hover:text-white hover:bg-cyan-900/20 transition-all border-gray-800">
                <i data-lucide="life-buoy" class="w-6 h-6 mx-auto mb-2"></i>
                Support
            </button>
        </div>
    </div>

    <main class="max-w-5xl mx-auto px-6 relative z-10 mb-40 min-h-[50vh]">

        <div id="view-rules" class="fade-in space-y-16">
            
            <div class="border-l-4 border-red-500 pl-6 py-4 bg-red-900/10">
                <p class="text-sm text-gray-300 italic font-medium">
                    "La méconnaissance de la loi n'est pas une excuse. En rejoignant Origin, vous acceptez l'intégralité de ces règles."
                </p>
            </div>

            <div class="text-center mb-8">
                <p class="text-xs text-gray-400">
                    Il est essentiel de lire cette page pour comprendre les règles et les attentes qui garantiront une expérience agréable pour tous.
                    <br>Votre candidature fera office de carte d'identité, essentielle pour rejoindre notre plateforme.
                </p>
            </div>

            <section>
                <h3 class="text-cyan-400 text-xl font-bold uppercase mb-6 flex items-center gap-3 border-b border-gray-800 pb-2">
                    <span class="text-gray-600">01.</span> Règles Générales
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="glass-panel p-4 border-l-2 border-cyan-500">
                        <strong class="text-cyan-400 text-sm uppercase mb-1 block">Respect & Courtoisie</strong>
                        <p class="text-xs text-gray-400">Traitez tous les joueurs avec respect. Les insultes, le harcèlement et les comportements discriminatoires sont strictement interdits.</p>
                    </div>
                    <div class="glass-panel p-4 border-l-2 border-red-500 bg-red-900/5">
                        <strong class="text-red-500 text-sm uppercase mb-1 block">RP Érotique (Strictement Interdit)</strong>
                        <p class="text-xs text-gray-400">Toute tentative de RP érotique (RPQ) sera sévèrement sanctionnée.</p>
                    </div>
                    <div class="glass-panel p-4 col-span-1 md:col-span-2">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <strong class="text-white text-xs uppercase block mb-1">Publicité</strong>
                                <p class="text-[10px] text-gray-500">Interdite pour d'autres serveurs/projets sans autorisation.</p>
                            </div>
                            <div>
                                <strong class="text-white text-xs uppercase block mb-1">Tricherie</strong>
                                <p class="text-[10px] text-gray-500">Exploitation de bugs ou utilisation de mods interdits = Ban.</p>
                            </div>
                            <div>
                                <strong class="text-white text-xs uppercase block mb-1">Alt F4</strong>
                                <p class="text-[10px] text-gray-500">Déconnexion en pleine scène interdite.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h3 class="text-purple-400 text-xl font-bold uppercase mb-6 flex items-center gap-3 border-b border-gray-800 pb-2">
                    <span class="text-gray-600">02.</span> Communication
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="glass-panel p-4">
                        <strong class="text-white text-sm uppercase mb-1 block flex items-center gap-2"><i data-lucide="mic-off" class="w-4 h-4 text-purple-400"></i> Vocal HRP</strong>
                        <p class="text-xs text-gray-400">Interdit. Utilisez exclusivement le chat local ou global pour le Hors-RP.</p>
                    </div>
                    <div class="glass-panel p-4">
                        <strong class="text-white text-sm uppercase mb-1 block">Langage & Spam</strong>
                        <p class="text-xs text-gray-400">Langage approprié exigé. Pas de propos vulgaires ou de spam.</p>
                    </div>
                    <div class="glass-panel p-4 col-span-1 md:col-span-2 border border-purple-500/30">
                        <strong class="text-purple-300 text-sm uppercase mb-2 block">Utilisation des Références & Mèmes</strong>
                        <ul class="text-xs text-gray-400 list-disc pl-4 space-y-1">
                            <li>Tolérées avec parcimonie dans les moments calmes / Off-RP.</li>
                            <li><span class="text-red-400">Strictement déconseillées</span> lors des scènes sérieuses (combat, fuite, urgence).</li>
                            <li>Sanction immédiate si utilisées pour "faire rire la galerie" en pleine tension (Atteinte à l'immersion).</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h3 class="text-orange-400 text-xl font-bold uppercase mb-6 flex items-center gap-3 border-b border-gray-800 pb-2">
                    <span class="text-gray-600">03.</span> Règles de Jeu (Gameplay)
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div class="glass-panel p-4 hover:bg-orange-900/10 transition-colors">
                        <strong class="text-orange-400 text-xs uppercase block mb-1">Metagaming</strong>
                        <p class="text-[10px] text-gray-400">Divulguer ou utiliser des infos HRP en RP est interdit.</p>
                    </div>
                    <div class="glass-panel p-4 hover:bg-orange-900/10 transition-colors">
                        <strong class="text-orange-400 text-xs uppercase block mb-1">PowerGaming</strong>
                        <p class="text-[10px] text-gray-400">Actions impossibles ou forcées sans l'accord de l'autre joueur.</p>
                    </div>
                    <div class="glass-panel p-4 hover:bg-orange-900/10 transition-colors">
                        <strong class="text-orange-400 text-xs uppercase block mb-1">Pain & Fear RP</strong>
                        <p class="text-[10px] text-gray-400">Réagir de manière réaliste à la douleur et à la peur.</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="glass-panel p-4">
                        <strong class="text-white text-sm uppercase mb-1 block">Combat & Mort</strong>
                        <ul class="text-xs text-gray-400 space-y-1">
                            <li><strong class="text-red-400">Freekill :</strong> Tuer sans raison valable est interdit.</li>
                            <li><strong class="text-red-400">RevengeKill :</strong> Se venger de sa propre mort est interdit.</li>
                        </ul>
                    </div>
                    <div class="glass-panel p-4">
                        <strong class="text-white text-sm uppercase mb-1 block">Cohérence & Physique</strong>
                        <ul class="text-xs text-gray-400 space-y-1">
                            <li><strong class="text-yellow-400">Déplacement :</strong> Bunny Hop (sauter) et Chicken Run (courir partout) interdits.</li>
                            <li><strong class="text-yellow-400">Identité :</strong> Pas de noms de célébrités (ex: Harry Potter).</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h3 class="text-green-400 text-xl font-bold uppercase mb-6 flex items-center gap-3 border-b border-gray-800 pb-2">
                    <span class="text-gray-600">04.</span> Construction & Propriété
                </h3>
                <div class="glass-panel p-6 border-l-2 border-green-500">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <strong class="text-green-400 text-sm uppercase mb-2 block">Règles de Bâtiment</strong>
                            <ul class="text-xs text-gray-400 list-disc pl-4 space-y-2">
                                <li>Constructions réalistes et cohérentes avec l'univers.</li>
                                <li>Pas de constructions abusives ou inesthétiques.</li>
                                <li>Ne modifiez pas les bâtiments des autres sans accord.</li>
                            </ul>
                        </div>
                        <div>
                            <strong class="text-green-400 text-sm uppercase mb-2 block">Propriété</strong>
                            <p class="text-xs text-gray-400 mb-2">Respectez les propriétés privées.</p>
                            <div class="bg-green-900/20 p-2 border border-green-500/30 text-center rounded">
                                <span class="text-xs text-green-300 font-bold">Ticket Staff OBLIGATOIRE avant tout vol.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h3 class="text-yellow-400 text-xl font-bold uppercase mb-6 flex items-center gap-3 border-b border-gray-800 pb-2">
                    <span class="text-gray-600">05.</span> Événements & Interactions
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="glass-panel p-4 text-center">
                        <i data-lucide="calendar" class="w-6 h-6 text-yellow-400 mx-auto mb-2"></i>
                        <strong class="text-white text-xs uppercase block">Animations</strong>
                        <p class="text-[10px] text-gray-500 mt-1">Doivent être validées par le staff/animateurs.</p>
                    </div>
                    <div class="glass-panel p-4 text-center">
                        <i data-lucide="users" class="w-6 h-6 text-yellow-400 mx-auto mb-2"></i>
                        <strong class="text-white text-xs uppercase block">Immersion</strong>
                        <p class="text-[10px] text-gray-500 mt-1">Évitez tout comportement disruptif.</p>
                    </div>
                    <div class="glass-panel p-4 text-center">
                        <i data-lucide="bot" class="w-6 h-6 text-yellow-400 mx-auto mb-2"></i>
                        <strong class="text-white text-xs uppercase block">PNJ</strong>
                        <p class="text-[10px] text-gray-500 mt-1">Usage cohérent et respectueux uniquement.</p>
                    </div>
                </div>
            </section>

        </div>

        <div id="view-support" class="hidden fade-in">
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                <div onclick="openForm('bug')" class="glass-panel p-6 cursor-pointer hover:bg-orange-900/10 hover:border-orange-500 transition-all group">
                    <i data-lucide="bug" class="w-8 h-8 text-orange-500 mb-4 group-hover:scale-110 transition-transform"></i>
                    <h3 class="text-lg font-bold text-white">Signaler un Bug</h3>
                    <p class="text-xs text-gray-500 mt-2">Glitch, erreur map, item bugué...</p>
                </div>
                <div onclick="openForm('info')" class="glass-panel p-6 cursor-pointer hover:bg-blue-900/10 hover:border-blue-500 transition-all group">
                    <i data-lucide="info" class="w-8 h-8 text-blue-500 mb-4 group-hover:scale-110 transition-transform"></i>
                    <h3 class="text-lg font-bold text-white">Question / Aide</h3>
                    <p class="text-xs text-gray-500 mt-2">Besoin d'aide sur le lore ou le gameplay.</p>
                </div>
                <div onclick="openForm('unban')" class="glass-panel p-6 cursor-pointer hover:bg-red-900/10 hover:border-red-500 transition-all group">
                    <i data-lucide="shield-off" class="w-8 h-8 text-red-500 mb-4 group-hover:scale-110 transition-transform"></i>
                    <h3 class="text-lg font-bold text-white">Débanissement</h3>
                    <p class="text-xs text-gray-500 mt-2">Demande de grâce ou contestation.</p>
                </div>
            </div>

            <div id="form-container" class="hidden glass-panel p-8 border-t-4 border-cyan-500 relative">
                <button onclick="closeForm()" class="absolute top-4 right-4 text-gray-500 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
                
                <h3 id="form-title" class="text-2xl font-bold text-white mb-6 uppercase">TITRE DU FORMULAIRE</h3>
                
                <form id="discord-form" onsubmit="sendToDiscord(event)" class="space-y-6">
                    <input type="hidden" id="ticket-type" name="type">

                    <div>
                        <label class="block text-xs text-cyan-400 uppercase tracking-widest mb-2">Votre Pseudo Discord</label>
                        <input type="text" id="username" required class="w-full bg-black/50 border border-gray-700 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors" placeholder="Ex: Pseudo#0000">
                    </div>

                    <div>
                        <label class="block text-xs text-cyan-400 uppercase tracking-widest mb-2">Sujet</label>
                        <input type="text" id="subject" required class="w-full bg-black/50 border border-gray-700 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors" placeholder="Titre de votre demande">
                    </div>

                    <div>
                        <label class="block text-xs text-cyan-400 uppercase tracking-widest mb-2">Détails</label>
                        <textarea id="message" required rows="5" maxlength="4000" class="w-full bg-black/50 border border-gray-700 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors" placeholder="Expliquez votre problème en détails... (Max 4000 caractères)"></textarea>
                        <div id="char-count" class="text-right text-[10px] text-gray-500 mt-1 font-mono">0 / 4000</div>
                    </div>

                    <button type="submit" id="submit-btn" class="w-full bg-cyan-500 hover:bg-cyan-400 text-black font-bold py-3 rounded uppercase tracking-widest transition-colors flex justify-center items-center gap-2">
                        <span>Envoyer la demande</span>
                        <i data-lucide="send" class="w-4 h-4"></i>
                    </button>

                    <p id="form-status" class="text-center text-xs mt-2 hidden"></p>
                </form>
            </div>

        </div>

    </main>

    <footer id="page-footer" class="reveal w-full bg-black/95 border-t border-cyan-900/50 z-50 py-3 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-center items-center text-gray-500 text-[10px] space-y-1 md:space-y-0 md:gap-6 tracking-wider">
            <div class="flex items-center gap-1 text-cyan-400">
                <i data-lucide="copyright" class="w-3 h-3"></i>
                <span class="font-bold">2025 par L'équipe d'Origin</span>
            </div>
            <div class="hidden md:block text-gray-700">|</div>
            <p class="text-xs text-gray-400 text-center">© OriginRp, 2024. Tous droits réservés.</p>
            <div class="hidden md:block text-gray-700">|</div>
            <p class="text-[9px] text-red-500/70 uppercase font-bold text-center">PAS DE MINECRAFT OFFICIEL.</p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // --- CONFIGURATION WEBHOOK SÉCURISÉE (OBFUSQUÉE) ---
        // On coupe le lien en deux pour tromper les robots simples
        const WH_ID = "1441523511733522555";
        const WH_TOKEN = "Plz2Hc-wDltpyDynyIFdI9sQpQrsYO7PVGkxkkmqfUj-4sXAreggeVTSvyBeNuW4v2Yy";
        
        // Recomposition du lien complet
        const WEBHOOK_URL = `https://discord.com/api/webhooks/${WH_ID}/${WH_TOKEN}`;
        
        const PROXY_URL = "https://corsproxy.io/?";

        // GESTION COMPTEUR CARACTÈRES
        const messageInput = document.getElementById('message');
        const charCount = document.getElementById('char-count');

        if(messageInput && charCount) {
            messageInput.addEventListener('input', function() {
                const current = this.value.length;
                const max = this.getAttribute('maxlength');
                charCount.textContent = `${current} / ${max}`;
                
                if(current >= max) {
                    charCount.classList.remove('text-gray-500');
                    charCount.classList.add('text-red-500');
                } else {
                    charCount.classList.add('text-gray-500');
                    charCount.classList.remove('text-red-500');
                }
            });
        }

        function switchTab(tab) {
            const rulesView = document.getElementById('view-rules');
            const supportView = document.getElementById('view-support');
            const btnRules = document.getElementById('btn-rules');
            const btnSupport = document.getElementById('btn-support');

            if (tab === 'rules') {
                rulesView.classList.remove('hidden');
                supportView.classList.add('hidden');
                btnRules.classList.add('active-tab-btn', 'text-cyan-400');
                btnRules.classList.remove('text-gray-500', 'border-gray-800');
                btnSupport.classList.remove('active-tab-btn', 'text-cyan-400');
                btnSupport.classList.add('text-gray-500', 'border-gray-800');
            } else {
                rulesView.classList.add('hidden');
                supportView.classList.remove('hidden');
                btnSupport.classList.add('active-tab-btn', 'text-cyan-400');
                btnSupport.classList.remove('text-gray-500', 'border-gray-800');
                btnRules.classList.remove('active-tab-btn', 'text-cyan-400');
                btnRules.classList.add('text-gray-500', 'border-gray-800');
            }
        }

        function openForm(type) {
            const container = document.getElementById('form-container');
            const title = document.getElementById('form-title');
            const inputType = document.getElementById('ticket-type');
            
            container.classList.remove('hidden');
            container.scrollIntoView({ behavior: 'smooth' });

            if (type === 'bug') {
                title.textContent = "SIGNALEMENT DE BUG";
                title.className = "text-2xl font-bold text-orange-500 mb-6 uppercase";
                container.className = "glass-panel p-8 border-t-4 border-orange-500 relative fade-in";
                inputType.value = "Bug";
            } else if (type === 'info') {
                title.textContent = "DEMANDE D'INFORMATION";
                title.className = "text-2xl font-bold text-blue-500 mb-6 uppercase";
                container.className = "glass-panel p-8 border-t-4 border-blue-500 relative fade-in";
                inputType.value = "Info";
            } else if (type === 'unban') {
                title.textContent = "DEMANDE DE DÉBANISSEMENT";
                title.className = "text-2xl font-bold text-red-500 mb-6 uppercase";
                container.className = "glass-panel p-8 border-t-4 border-red-500 relative fade-in";
                inputType.value = "Unban";
            }
        }

        function closeForm() {
            document.getElementById('form-container').classList.add('hidden');
        }

        function sendToDiscord(e) {
            e.preventDefault();
            
            const btn = document.getElementById('submit-btn');
            const status = document.getElementById('form-status');
            status.classList.remove('hidden');
            
            btn.disabled = true;
            btn.innerHTML = '<span class="animate-pulse">Envoi en cours...</span>';

            const type = document.getElementById('ticket-type').value;
            const username = document.getElementById('username').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            let color = 3447003; 
            if (type === 'Bug') color = 15105570; 
            if (type === 'Unban') color = 15158332; 

            const payload = {
                username: "Support Fédérale",
                embeds: [{
                    title: `Nouveau Ticket : ${type}`,
                    description: `**Description du problème :**\n${message}`,
                    fields: [
                        { name: "Joueur", value: username, inline: true },
                        { name: "Sujet", value: subject, inline: true }
                    ],
                    color: color,
                    footer: { text: "Envoyé depuis le site Origin • " + new Date().toLocaleString() }
                }]
            };

            fetch(PROXY_URL + encodeURIComponent(WEBHOOK_URL), {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (response.ok) {
                    status.textContent = "Message envoyé avec succès !";
                    status.className = "text-center text-xs mt-2 text-green-400";
                    btn.innerHTML = '<span>Envoyé !</span>';
                    document.getElementById('discord-form').reset();
                    setTimeout(() => { 
                        closeForm(); 
                        btn.disabled = false; 
                        btn.innerHTML = '<span>Envoyer la demande</span><i data-lucide="send" class="w-4 h-4"></i>'; 
                        status.textContent = ""; 
                        status.classList.add('hidden'); 
                    }, 3000);
                } else {
                    throw new Error('Erreur Discord');
                }
            })
            .catch(error => {
                console.error(error);
                status.textContent = "Erreur d'envoi. Vérifiez votre connexion.";
                status.className = "text-center text-xs mt-2 text-red-500";
                btn.disabled = false;
                btn.innerHTML = '<span>Réessayer</span>';
            });
        }

        // Footer Reveal Logic
        const pageFooter = document.getElementById('page-footer');
        window.addEventListener('scroll', () => {
            const scrollPosition = window.innerHeight + window.scrollY;
            const bodyHeight = document.body.offsetHeight;
            if (scrollPosition >= bodyHeight - 50) {
                pageFooter.style.opacity = '1';
                pageFooter.style.transform = 'translateY(0)';
            }
        });

        // --- SYSTEME SONORE UNIVERSEL ---
        const hoverSound = document.getElementById('sfx-hover');
        const clickSound = document.getElementById('sfx-click');
        
        if(hoverSound && clickSound) {
            hoverSound.volume = 0.2;
            clickSound.volume = 0.1;

            // Fonction qui gère le clic (Son + Transition si nécessaire)
            function handleUniversalClick(e) {
                // 1. Jouer le son
                clickSound.currentTime = 0;
                clickSound.play().catch(() => {});

                // 2. Gestion de la transition de page
                // On vérifie si c'est un lien <a> qui change vraiment de page
                const link = e.currentTarget;
                if (link.tagName === 'A' && link.href && link.target !== "_blank" && !link.href.includes('#') && !link.href.includes('javascript')) {
                    e.preventDefault(); // Bloque le changement immédiat
                    document.body.classList.add('fade-out'); // Lance le fondu noir
                    setTimeout(() => {
                        window.location.href = link.href; // Change de page après 0.5s
                    }, 500);
                }
            }

            // Fonction pour attacher les sons aux éléments
            function attachSounds() {
                const elements = document.querySelectorAll('a, button, .glass-panel, .cursor-pointer');
                elements.forEach(el => {
                    // Eviter les doublons (si on lance la fonction plusieurs fois)
                    if(el.dataset.soundAttached) return;
                    el.dataset.soundAttached = "true";

                    el.addEventListener('mouseenter', () => {
                        hoverSound.currentTime = 0;
                        hoverSound.play().catch(() => {});
                    });
                    el.addEventListener('click', handleUniversalClick);
                });
            }

            // Lancer l'attachement au chargement
            attachSounds();
            
            // Astuce pour le Lore : Relancer l'attachement quand on ouvre un dossier
            // (Ajoute cette ligne 'attachSounds()' dans ta fonction openFile() si tu veux du son sur les éléments dynamiques)
        }
    </script>
</body>
</html>